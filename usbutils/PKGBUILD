
pkgname=usbutils
pkgver=016
pkgrel=1
pkgdesc="USB Device Utilities"
arch=('x86_64')
url="https://linux-usb.sourceforge.net/"
license=('GPL')
groups=('base')
depends=('libusb' 'hwids')
source=("https://www.kernel.org/pub/linux/utils/usb/usbutils/${pkgname}-${pkgver}.tar.xz")
#source=("https://github.com/gregkh/usbutils/archive/refs/tags/v${pkgver}.tar.gz")
sha256sums=('75050b3a113a3d07b9e822fb367b8c7ef3524027d33aea7c9febfab038511e43')

build() {
  cd ${pkgname}-${pkgver}

  #./autogen.sh
  ./configure --prefix=/usr \
    --datadir=/usr/share/hwdata \
    --disable-zlib
  make
}

package() {
  cd ${pkgname}-${pkgver}
  make DESTDIR=${pkgdir} install

  # part of hwids 
  rm -rf ${pkgdir}/usr/{share/hwdata,sbin}
}

